import{j as We,k as je,l as lt,s as Te,e as ce,m as nt,p as Ce,r as ve,q as it,v as st,w as Ue,n as ke}from"./scheduler.282154de.js";import{G as ot,I as at,S as ye,i as De,e as ue,a as P,d as T,p as re,t as A,b as le,f as _,g as C,h as O,j as R,k as I,l as N,J as rt,K as me,s as J,c as K,L as W,x as F,B as H,r as pe,u as de,v as he,w as ge,M as qe,H as Ae,y as Oe}from"./index.465a4a03.js";import{w as Me}from"./paths.b266836a.js";function Ve(s){const e=s-1;return e*e*e+1}function ee(s,{delay:e=0,duration:t=400,easing:n=Ve,x:r=0,y:l=0,opacity:a=0}={}){const o=getComputedStyle(s),i=+o.opacity,c=o.transform==="none"?"":o.transform,f=i*(1-a),[g,k]=We(r),[E,d]=We(l);return{delay:e,duration:t,easing:n,css:(u,p)=>`
			transform: ${c} translate(${(1-u)*g}${k}, ${(1-u)*E}${d});
			opacity: ${i-f*p}`}}function Fe(s){return Object.prototype.toString.call(s)==="[object Date]"}function Se(s,e){if(s===e||s!==s)return()=>s;const t=typeof s;if(t!==typeof e||Array.isArray(s)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(s)){const n=e.map((r,l)=>Se(s[l],r));return r=>n.map(l=>l(r))}if(t==="object"){if(!s||!e)throw new Error("Object cannot be null");if(Fe(s)&&Fe(e)){s=s.getTime(),e=e.getTime();const l=e-s;return a=>new Date(s+a*l)}const n=Object.keys(e),r={};return n.forEach(l=>{r[l]=Se(s[l],e[l])}),l=>{const a={};return n.forEach(o=>{a[o]=r[o](l)}),a}}if(t==="number"){const n=e-s;return r=>s+r*n}throw new Error(`Cannot interpolate ${t} values`)}function Le(s,e={}){const t=Me(s);let n,r=s;function l(a,o){if(s==null)return t.set(s=a),Promise.resolve();r=a;let i=n,c=!1,{delay:f=0,duration:g=400,easing:k=lt,interpolate:E=Se}=je(je({},e),o);if(g===0)return i&&(i.abort(),i=null),t.set(s=r),Promise.resolve();const d=ot()+f;let u;return n=at(p=>{if(p<d)return!0;c||(u=E(s,a),typeof g=="function"&&(g=g(s,a)),c=!0),i&&(i.abort(),i=null);const w=p-d;return w>g?(t.set(s=a),!1):(t.set(s=u(k(w/g))),!0)}),n.promise}return{set:l,update:(a,o)=>l(a(r,s),o),subscribe:t.subscribe}}const ze=Me(0);var tt;const ft=(tt=globalThis.matchMedia)==null?void 0:tt.call(globalThis,"(prefers-reduced-motion: reduce)").matches,Pe=s=>({easing:Ve,duration:ft?0:s});function Ze(s){let e,t,n,r,l=!s[2]&&Ge();return{c(){e=C("div"),l&&l.c(),this.h()},l(a){e=O(a,"DIV",{class:!0,style:!0});var o=R(e);l&&l.l(o),o.forEach(_),this.h()},h(){I(e,"class","bp-load"),N(e,"background-image","url("+s[0]+")")},m(a,o){P(a,e,o),l&&l.m(e,null),r=!0},p(a,o){s=a,s[2]?l&&(l.d(1),l=null):l||(l=Ge(),l.c(),l.m(e,null)),(!r||o&1)&&N(e,"background-image","url("+s[0]+")")},i(a){r||(a&&nt(()=>{r&&(n&&n.end(1),t=rt(e,ee,{duration:s[1]?400:0}),t.start())}),r=!0)},o(a){t&&t.invalidate(),a&&(n=me(e,ee,{duration:480})),r=!1},d(a){a&&_(e),l&&l.d(),a&&n&&n.end()}}}function Ge(s){let e,t,n;return{c(){e=C("span"),t=J(),n=C("span"),this.h()},l(r){e=O(r,"SPAN",{class:!0}),R(e).forEach(_),t=K(r),n=O(r,"SPAN",{class:!0}),R(n).forEach(_),this.h()},h(){I(e,"class","bp-bar"),I(n,"class","bp-o")},m(r,l){P(r,e,l),P(r,t,l),P(r,n,l)},d(r){r&&(_(e),_(t),_(n))}}}function ct(s){let e,t=(!s[1]||s[2])&&Ze(s);return{c(){t&&t.c(),e=ue()},l(n){t&&t.l(n),e=ue()},m(n,r){t&&t.m(n,r),P(n,e,r)},p(n,[r]){!n[1]||n[2]?t?(t.p(n,r),r&6&&T(t,1)):(t=Ze(n),t.c(),T(t,1),t.m(e.parentNode,e)):t&&(re(),A(t,1,1,()=>{t=null}),le())},i(n){T(t)},o(n){A(t)},d(n){n&&_(e),t&&t.d(n)}}}function ut(s,e,t){let n;ce(s,ze,a=>t(2,n=a));let{thumb:r}=e,{loaded:l}=e;return s.$$set=a=>{"thumb"in a&&t(0,r=a.thumb),"loaded"in a&&t(1,l=a.loaded)},[r,l,n]}class Ne extends ye{constructor(e){super(),De(this,e,ut,ct,Te,{thumb:0,loaded:1})}}function Je(s){let e,t,n,r,l,a,o;return{c(){e=C("img"),this.h()},l(i){e=O(i,"IMG",{srcset:!0,sizes:!0,alt:!0}),this.h()},h(){it(e,t=s[7].img)||I(e,"srcset",t),I(e,"sizes",n=s[8].sizes||`${s[1]}px`),I(e,"alt",s[7].alt)},m(i,c){P(i,e,c),l=!0,a||(o=H(e,"error",s[26]),a=!0)},p(i,c){(!l||c[0]&2&&n!==(n=i[8].sizes||`${i[1]}px`))&&I(e,"sizes",n)},i(i){l||(r&&r.end(1),l=!0)},o(i){r=me(e,ee,{}),l=!1},d(i){i&&_(e),i&&r&&r.end(),a=!1,o()}}}function Ke(s){let e,t;return e=new Ne({props:{thumb:s[7].thumb,loaded:s[2]}}),{c(){pe(e.$$.fragment)},l(n){de(e.$$.fragment,n)},m(n,r){he(e,n,r),t=!0},p(n,r){const l={};r[0]&4&&(l.loaded=n[2]),e.$set(l)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){A(e.$$.fragment,n),t=!1},d(n){ge(e,n)}}}function mt(s){let e,t,n,r,l,a,o=s[2]&&Je(s),i=s[3]&&Ke(s);return{c(){e=C("div"),t=C("div"),o&&o.c(),n=J(),i&&i.c(),this.h()},l(c){e=O(c,"DIV",{class:!0});var f=R(e);t=O(f,"DIV",{class:!0,style:!0});var g=R(t);o&&o.l(g),n=K(g),i&&i.l(g),g.forEach(_),f.forEach(_),this.h()},h(){I(t,"class","bp-img"),N(t,"background-image","url("+s[7].thumb+")"),N(t,"width",s[0][0]+"px"),N(t,"height",s[0][1]+"px"),N(t,"transform","translate3d("+(s[0][0]/-2+s[6][0])+"px, "+(s[0][1]/-2+s[6][1])+"px, 0)"),W(t,"bp-drag",s[4]),W(t,"bp-canzoom",s[11]>1&&s[0][0]<s[12]),I(e,"class","bp-img-wrap"),W(e,"bp-close",s[5])},m(c,f){P(c,e,f),F(e,t),o&&o.m(t,null),F(t,n),i&&i.m(t,null),r=!0,l||(a=[Ce(s[20].call(null,t)),H(e,"wheel",s[15]),H(e,"pointerdown",s[16]),H(e,"pointermove",s[17]),H(e,"pointerup",s[19]),H(e,"pointercancel",s[18])],l=!0)},p(c,f){c[2]?o?(o.p(c,f),f[0]&4&&T(o,1)):(o=Je(c),o.c(),T(o,1),o.m(t,n)):o&&(re(),A(o,1,1,()=>{o=null}),le()),c[3]?i?(i.p(c,f),f[0]&8&&T(i,1)):(i=Ke(c),i.c(),T(i,1),i.m(t,null)):i&&(re(),A(i,1,1,()=>{i=null}),le()),(!r||f[0]&1)&&N(t,"width",c[0][0]+"px"),(!r||f[0]&1)&&N(t,"height",c[0][1]+"px"),(!r||f[0]&65)&&N(t,"transform","translate3d("+(c[0][0]/-2+c[6][0])+"px, "+(c[0][1]/-2+c[6][1])+"px, 0)"),(!r||f[0]&16)&&W(t,"bp-drag",c[4]),(!r||f[0]&6145)&&W(t,"bp-canzoom",c[11]>1&&c[0][0]<c[12]),(!r||f[0]&32)&&W(e,"bp-close",c[5])},i(c){r||(T(o),T(i),r=!0)},o(c){A(o),A(i),r=!1},d(c){c&&_(e),o&&o.d(),i&&i.d(),l=!1,ve(a)}}}function pt(s,e,t){let n,r,l,a;ce(s,ze,m=>t(25,l=m));let{props:o}=e,{smallScreen:i}=e,{activeItem:c,opts:f,prev:g,next:k,zoomed:E,container:d}=o;ce(s,E,m=>t(24,n=m));let u=c.maxZoom||f.maxZoom||10,p=o.calculateDimensions(c),w=p[0],B,v,j,te,Q=0,M,$,ie,oe,Ie,ae,Ee;const ne=+c.width,_e=[],se=new Map,x=Le(p,Pe(400));ce(s,x,m=>t(0,a=m));const U=Le([0,0],Pe(400));ce(s,U,m=>t(6,r=m));const be=([m,D],S=a)=>{const y=(S[0]-d.w)/2,Y=(S[1]-d.h)/2;return y<0?m=0:m>y?i?(m=M?y+(m-y)/10:y,m>y+20&&t(4,M=g())):m=y:m<-y&&(i?(m=M?-y-(-y-m)/10:-y,m<-y-20&&t(4,M=k())):m=-y),Y<0?D=0:D>Y?D=Y:D<-Y&&(D=-Y),[m,D]};function fe(m=u,D){if(l)return;const S=p[0]*u;let y=a[0]+a[0]*m,Y=a[1]+a[1]*m;if(m>0)y>S&&(y=S,Y=p[1]*u),y>ne&&(y=ne,Y=+c.height);else if(y<p[0])return x.set(p),U.set([0,0]);let{x:G,y:we,width:Re,height:Ye}=te.getBoundingClientRect();const Xe=D?D.clientX-G-Re/2:0,He=D?D.clientY-we-Ye/2:0;G=-Xe*(y/Re)+Xe,we=-He*(Y/Ye)+He;const Be=[y,Y];x.set(Be).then(()=>{t(1,w=Math.round(Math.max(w,y)))}),U.set(be([r[0]+G,r[1]+we],Be))}Object.defineProperty(c,"zoom",{configurable:!0,get:()=>n,set:m=>fe(m?u:-u)});const h=m=>{f.inline&&!n||(m.preventDefault(),fe(m.deltaY/-300,m))},b=m=>{m.button!==2&&(m.preventDefault(),t(4,M=!0),se.set(m.pointerId,m),ie=m.clientX,oe=m.clientY,Ie=r[0],ae=r[1])},z=m=>{var y;if(se.size>1)return t(4,M=!1),((y=f.noPinch)==null?void 0:y.call(f,d.el))||V(m);if(!M)return;let D=m.clientX,S=m.clientY;$=_e.push({x:D,y:S})>2,D=D-ie,S=S-oe,n||(S<-90&&t(4,M=!f.noClose&&o.close()),Math.abs(S)<30&&(D>40&&t(4,M=g()),D<-40&&t(4,M=k()))),n&&$&&!l&&U.set(be([Ie+D,ae+S]),{duration:0})},V=m=>{const[D,S]=se.set(m.pointerId,m).values(),y=D.clientX-S.clientX,Y=D.clientY-S.clientY,G=Math.hypot(y,Y);j=j||{clientX:(D.clientX+S.clientX)/2,clientY:(D.clientY+S.clientY)/2},fe(((Q||G)-G)/-35,j),Q=G},L=m=>se.delete(m.pointerId);function X(m){var D;if(L(m),j&&(t(4,M=Q=0),j=se.size?j:null),!!M){if(t(4,M=!1),m.target===this&&!f.noClose)return o.close();if($){const[S,y,Y]=_e.slice(-3),G=y.x-Y.x,we=y.y-Y.y;Math.hypot(G,we)>5&&U.set(be([r[0]-(S.x-Y.x)*5,r[1]-(S.y-Y.y)*5]))}else(D=f.onImageClick)!=null&&D.call(f,d.el,c)||fe(n?-u:u,m);$=!1,_e.length=0}}const q=m=>{te=m,o.setResizeFunc(()=>{t(23,p=o.calculateDimensions(c)),(f.inline||!i)&&(x.set(p),U.set([0,0]))}),o.loadImage(c).then(()=>{t(2,B=!0),o.preloadNext()}),setTimeout(()=>{t(3,v=!B)},250)},Z=m=>{var D;return(D=f.onError)==null?void 0:D.call(f,d,c,m)};return s.$$set=m=>{"props"in m&&t(21,o=m.props),"smallScreen"in m&&t(22,i=m.smallScreen)},s.$$.update=()=>{if(s.$$.dirty[0]&8388609&&E.set(a[0]-10>p[0]),s.$$.dirty[0]&58720256&&l&&n&&!f.intro){const m=Pe(480);U.set([0,0],m),x.set(p,m),t(5,Ee=!0)}},[a,w,B,v,M,Ee,r,c,f,E,d,u,ne,x,U,h,b,z,L,X,q,o,i,p,n,l,Z]}class dt extends ye{constructor(e){super(),De(this,e,pt,mt,Te,{props:21,smallScreen:22},null,[-1,-1])}}function ht(s){let e,t,n,r,l,a,o;return r=new Ne({props:{thumb:s[2].thumb,loaded:s[0]}}),{c(){e=C("div"),t=C("iframe"),n=J(),pe(r.$$.fragment),this.h()},l(i){e=O(i,"DIV",{class:!0,style:!0});var c=R(e);t=O(c,"IFRAME",{allow:!0,title:!0}),R(t).forEach(_),n=K(c),de(r.$$.fragment,c),c.forEach(_),this.h()},h(){I(t,"allow","autoplay; fullscreen"),I(t,"title",s[2].title),I(e,"class","bp-if"),N(e,"width",s[1][0]+"px"),N(e,"height",s[1][1]+"px")},m(i,c){P(i,e,c),F(e,t),F(e,n),he(r,e,null),l=!0,a||(o=[Ce(s[3].call(null,t)),H(t,"load",s[5])],a=!0)},p(i,[c]){const f={};c&1&&(f.loaded=i[0]),r.$set(f),(!l||c&2)&&N(e,"width",i[1][0]+"px"),(!l||c&2)&&N(e,"height",i[1][1]+"px")},i(i){l||(T(r.$$.fragment,i),l=!0)},o(i){A(r.$$.fragment,i),l=!1},d(i){i&&_(e),ge(r),a=!1,ve(o)}}}function gt(s,e,t){let{props:n}=e,r,l;const{activeItem:a}=n,o=()=>t(1,l=n.calculateDimensions(a));o(),n.setResizeFunc(o);const i=f=>f.src=a.iframe,c=()=>t(0,r=!0);return s.$$set=f=>{"props"in f&&t(4,n=f.props)},[r,l,a,i,n,c]}class _t extends ye{constructor(e){super(),De(this,e,gt,ht,Te,{props:4})}}function bt(s){let e,t,n,r,l;return t=new Ne({props:{thumb:s[2].thumb,loaded:s[0]}}),{c(){e=C("div"),pe(t.$$.fragment),this.h()},l(a){e=O(a,"DIV",{class:!0,style:!0});var o=R(e);de(t.$$.fragment,o),o.forEach(_),this.h()},h(){I(e,"class","bp-vid"),N(e,"width",s[1][0]+"px"),N(e,"height",s[1][1]+"px"),N(e,"background-image","url("+s[2].thumb+")")},m(a,o){P(a,e,o),he(t,e,null),n=!0,r||(l=Ce(s[3].call(null,e)),r=!0)},p(a,[o]){const i={};o&1&&(i.loaded=a[0]),t.$set(i),(!n||o&2)&&N(e,"width",a[1][0]+"px"),(!n||o&2)&&N(e,"height",a[1][1]+"px")},i(a){n||(T(t.$$.fragment,a),n=!0)},o(a){A(t.$$.fragment,a),n=!1},d(a){a&&_(e),ge(t),r=!1,l()}}}function wt(s,e,t){let{props:n}=e,r,l;const{activeItem:a,opts:o,container:i}=n,c=()=>t(1,l=n.calculateDimensions(a));c(),n.setResizeFunc(c);const f=(k,E)=>{for(const d in E)I(k,d,E[d])},g=k=>{let E;const d=(u,p)=>{var w;Array.isArray(p)||(p=JSON.parse(p));for(const B of p){E||(E=C((w=B.type)!=null&&w.includes("audio")?"audio":"video"),f(E,{controls:!0,autoplay:!0,playsinline:!0,tabindex:"0"}));const v=C(u);f(v,B),u=="source"&&H(v,"error",j=>{var te;return(te=o.onError)==null?void 0:te.call(o,i,a,j)}),qe(E,v)}};d("source",a.sources),d("track",a.tracks||[]),H(E,"canplay",()=>t(0,r=!0)),qe(k,E)};return s.$$set=k=>{"props"in k&&t(4,n=k.props)},[r,l,a,g,n]}class kt extends ye{constructor(e){super(),De(this,e,wt,bt,Te,{props:4})}}function Qe(s){let e,t,n,r,l=s[6].i,a,o,i,c,f,g,k,E,d=xe(s),u=s[0].length>1&&et(s);return{c(){e=C("div"),t=C("div"),r=J(),d.c(),a=J(),o=C("div"),i=C("button"),c=J(),u&&u.c(),this.h()},l(p){e=O(p,"DIV",{class:!0});var w=R(e);t=O(w,"DIV",{}),R(t).forEach(_),r=K(w),d.l(w),a=K(w),o=O(w,"DIV",{class:!0});var B=R(o);i=O(B,"BUTTON",{class:!0,title:!0,"aria-label":!0}),R(i).forEach(_),c=K(B),u&&u.l(B),B.forEach(_),w.forEach(_),this.h()},h(){I(i,"class","bp-x"),I(i,"title","Close"),I(i,"aria-label","Close"),I(o,"class","bp-controls"),I(e,"class","bp-wrap"),W(e,"bp-zoomed",s[10]),W(e,"bp-inline",s[8]),W(e,"bp-small",s[7]),W(e,"bp-noclose",s[5].noClose)},m(p,w){P(p,e,w),F(e,t),F(e,r),d.m(e,null),F(e,a),F(e,o),F(o,i),F(o,c),u&&u.m(o,null),g=!0,k||(E=[H(i,"click",s[1]),Ce(s[14].call(null,e))],k=!0)},p(p,w){w[0]&64&&st(l,l=p[6].i)?(re(),A(d,1,1,ke),le(),d=xe(p),d.c(),T(d,1),d.m(e,a)):d.p(p,w),p[0].length>1?u?u.p(p,w):(u=et(p),u.c(),u.m(o,null)):u&&(u.d(1),u=null),(!g||w[0]&1024)&&W(e,"bp-zoomed",p[10]),(!g||w[0]&256)&&W(e,"bp-inline",p[8]),(!g||w[0]&128)&&W(e,"bp-small",p[7]),(!g||w[0]&32)&&W(e,"bp-noclose",p[5].noClose)},i(p){g||(n&&n.end(1),T(d),f&&f.end(1),g=!0)},o(p){p&&(n=me(t,ee,{duration:480})),A(d),p&&(f=me(o,ee,{})),g=!1},d(p){p&&_(e),p&&n&&n.end(),d.d(p),u&&u.d(),p&&f&&f.end(),k=!1,ve(E)}}}function vt(s){let e,t,n=s[6].html+"";return{c(){e=C("div"),t=new Ae(!1),this.h()},l(r){e=O(r,"DIV",{class:!0});var l=R(e);t=Oe(l,!1),l.forEach(_),this.h()},h(){t.a=null,I(e,"class","bp-html")},m(r,l){P(r,e,l),t.m(n,e)},p(r,l){l[0]&64&&n!==(n=r[6].html+"")&&t.p(n)},i:ke,o:ke,d(r){r&&_(e)}}}function yt(s){let e,t;return e=new _t({props:{props:s[13]()}}),{c(){pe(e.$$.fragment)},l(n){de(e.$$.fragment,n)},m(n,r){he(e,n,r),t=!0},p:ke,i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){A(e.$$.fragment,n),t=!1},d(n){ge(e,n)}}}function Dt(s){let e,t;return e=new kt({props:{props:s[13]()}}),{c(){pe(e.$$.fragment)},l(n){de(e.$$.fragment,n)},m(n,r){he(e,n,r),t=!0},p:ke,i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){A(e.$$.fragment,n),t=!1},d(n){ge(e,n)}}}function It(s){let e,t;return e=new dt({props:{props:s[13](),smallScreen:s[7]}}),{c(){pe(e.$$.fragment)},l(n){de(e.$$.fragment,n)},m(n,r){he(e,n,r),t=!0},p(n,r){const l={};r[0]&128&&(l.smallScreen=n[7]),e.$set(l)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){A(e.$$.fragment,n),t=!1},d(n){ge(e,n)}}}function $e(s){let e,t,n=s[6].caption+"",r,l;return{c(){e=C("div"),t=new Ae(!1),this.h()},l(a){e=O(a,"DIV",{class:!0});var o=R(e);t=Oe(o,!1),o.forEach(_),this.h()},h(){t.a=null,I(e,"class","bp-cap")},m(a,o){P(a,e,o),t.m(n,e),l=!0},p(a,o){(!l||o[0]&64)&&n!==(n=a[6].caption+"")&&t.p(n)},i(a){l||(r&&r.end(1),l=!0)},o(a){r=me(e,ee,{duration:200}),l=!1},d(a){a&&_(e),a&&r&&r.end()}}}function xe(s){let e,t,n,r,l,a,o,i,c,f;const g=[It,Dt,yt,vt],k=[];function E(u,p){return u[6].img?0:u[6].sources?1:u[6].iframe?2:3}t=E(s),n=k[t]=g[t](s);let d=s[6].caption&&$e(s);return{c(){e=C("div"),n.c(),a=J(),d&&d.c(),o=ue(),this.h()},l(u){e=O(u,"DIV",{class:!0});var p=R(e);n.l(p),p.forEach(_),a=K(u),d&&d.l(u),o=ue(),this.h()},h(){I(e,"class","bp-inner")},m(u,p){P(u,e,p),k[t].m(e,null),P(u,a,p),d&&d.m(u,p),P(u,o,p),i=!0,c||(f=[H(e,"pointerdown",s[21]),H(e,"pointerup",s[22])],c=!0)},p(u,p){let w=t;t=E(u),t===w?k[t].p(u,p):(re(),A(k[w],1,1,()=>{k[w]=null}),le(),n=k[t],n?n.p(u,p):(n=k[t]=g[t](u),n.c()),T(n,1),n.m(e,null)),u[6].caption?d?(d.p(u,p),p[0]&64&&T(d,1)):(d=$e(u),d.c(),T(d,1),d.m(o.parentNode,o)):d&&(re(),A(d,1,1,()=>{d=null}),le())},i(u){i||(T(n),nt(()=>{i&&(l&&l.end(1),r=rt(e,s[12],!0),r.start())}),T(d),i=!0)},o(u){A(n),r&&r.invalidate(),l=me(e,s[12],!1),A(d),i=!1},d(u){u&&(_(e),_(a),_(o)),k[t].d(),u&&l&&l.end(),d&&d.d(u),c=!1,ve(f)}}}function et(s){let e,t,n=`${s[4]+1} / ${s[0].length}`,r,l,a,o,i,c;return{c(){e=C("div"),t=new Ae(!1),r=J(),l=C("button"),a=J(),o=C("button"),this.h()},l(f){e=O(f,"DIV",{class:!0});var g=R(e);t=Oe(g,!1),g.forEach(_),r=K(f),l=O(f,"BUTTON",{class:!0,title:!0,"aria-label":!0}),R(l).forEach(_),a=K(f),o=O(f,"BUTTON",{class:!0,title:!0,"aria-label":!0}),R(o).forEach(_),this.h()},h(){t.a=null,I(e,"class","bp-count"),I(l,"class","bp-prev"),I(l,"title","Previous"),I(l,"aria-label","Previous"),I(o,"class","bp-next"),I(o,"title","Next"),I(o,"aria-label","Next")},m(f,g){P(f,e,g),t.m(n,e),P(f,r,g),P(f,l,g),P(f,a,g),P(f,o,g),i||(c=[H(l,"click",s[2]),H(o,"click",s[3])],i=!0)},p(f,g){g[0]&17&&n!==(n=`${f[4]+1} / ${f[0].length}`)&&t.p(n)},d(f){f&&(_(e),_(r),_(l),_(a),_(o)),i=!1,ve(c)}}}function Et(s){let e,t,n=s[0]&&Qe(s);return{c(){n&&n.c(),e=ue()},l(r){n&&n.l(r),e=ue()},m(r,l){n&&n.m(r,l),P(r,e,l),t=!0},p(r,l){r[0]?n?(n.p(r,l),l[0]&1&&T(n,1)):(n=Qe(r),n.c(),T(n,1),n.m(e.parentNode,e)):n&&(re(),A(n,1,1,()=>{n=null}),le())},i(r){t||(T(n),t=!0)},o(r){A(n),t=!1},d(r){r&&_(e),n&&n.d(r)}}}function zt(s,e,t){let n,{items:r=void 0}=e,{target:l=void 0}=e;const a=document.documentElement;let o,i,c,f,g,k,E,d,u,p,w;const B=h=>w=h,v={},j=Me(0);ce(s,j,h=>t(10,n=h));const te=h=>{t(5,i=h),t(8,k=i.inline);const b=i.items;!k&&a.scrollHeight>a.clientHeight&&a.classList.add("bp-lock"),f=document.activeElement,t(20,v.w=l.offsetWidth,v),t(20,v.h=l===document.body?window.innerHeight:l.clientHeight,v),t(7,g=v.w<769),t(4,o=i.position||0),Array.isArray(b)?t(0,r=b.map((z,V)=>(i.el&&i.el===z.element&&t(4,o=V),{i:V,...z}))):t(0,r=(b.length?[...b]:[b]).map((z,V)=>(i.el===z&&t(4,o=V),{element:z,i:V,...z.dataset})))},Q=()=>{var h;(h=i.onClose)==null||h.call(i,v.el,u),ze.set(!0),t(0,r=null),f==null||f.focus({preventScroll:!0})},M=()=>ie(o-1),$=()=>ie(o+1),ie=h=>{E=h-o,t(4,o=oe(h))},oe=h=>(h+r.length)%r.length,Ie=h=>{const{key:b,shiftKey:z}=h;if(b==="Escape")!i.noClose&&Q();else if(b==="ArrowRight")$();else if(b==="ArrowLeft")M();else if(b==="Tab"){const{activeElement:V}=document;if(z||!V.controls){h.preventDefault();const{focusWrap:L=v.el}=i,X=[...L.querySelectorAll("*")].filter(Z=>Z.tabIndex>=0);let q=X.indexOf(V);q+=X.length+(z?-1:1),X[q%X.length].focus()}}},ae=({width:h=1920,height:b=1080})=>{const{scale:z=.99}=i,V=Math.min(1,v.w/h*z,v.h/b*z);return[Math.round(h*V),Math.round(b*V)]},Ee=()=>{if(r){const h=r[oe(o+1)],b=r[oe(o-1)];!h.preload&&ne(h),!b.preload&&ne(b)}},ne=h=>{if(h.img){const b=C("img");return b.sizes=i.sizes||`${ae(h)[0]}px`,b.srcset=h.img,h.preload=!0,b.decode().catch(z=>{})}},_e=(h,b)=>!c||!r?(t(18,c=b),i.intro?ee(h,{y:b?10:-10}):se(h)):ee(h,{x:(E>0?20:-20)*(b?1:-1),duration:250}),se=h=>{let b;if(p){const Z=h.firstChild.firstChild;b=[Z.clientWidth,Z.clientHeight]}else b=ae(u);const z=(u.element||f).getBoundingClientRect(),V=z.left-(v.w-z.width)/2,L=z.top-(v.h-z.height)/2,X=z.width/b[0],q=z.height/b[1];return{duration:480,easing:Ve,css:(Z,m)=>`transform:translate3d(${V*m}px, ${L*m}px, 0) scale3d(${X+Z*(1-X)}, ${q+Z*(1-q)}, 1)`}},x=()=>({activeItem:u,calculateDimensions:ae,loadImage:ne,preloadNext:Ee,opts:i,prev:M,next:$,close:Q,setResizeFunc:B,zoomed:j,container:v}),U=h=>{var L;t(20,v.el=h,v);let b,z;(L=i.onOpen)==null||L.call(i,v.el,u),k||(b=H(window,"keydown",Ie));const V=new ResizeObserver(X=>{var q;z&&(t(20,v.w=X[0].contentRect.width,v),t(20,v.h=X[0].contentRect.height,v),t(7,g=v.w<769),w==null||w(),(q=i.onResize)==null||q.call(i,v.el,u)),z=!0});return V.observe(h),{destroy(){var X;V.disconnect(),b==null||b(),ze.set(!1),a.classList.remove("bp-lock"),(X=i.onClosed)==null||X.call(i)}}},be=h=>t(9,d=h.target),fe=function(h){h.button!==2&&h.target===this&&d===this&&!i.noClose&&Q()};return s.$$set=h=>{"items"in h&&t(0,r=h.items),"target"in h&&t(15,l=h.target)},s.$$.update=()=>{var h;s.$$.dirty[0]&1835121&&r&&(t(6,u=r[o]),t(19,p=u.hasOwnProperty("html")),c&&(p&&B(null),(h=i.onUpdate)==null||h.call(i,v.el,u)))},[r,Q,M,$,o,i,u,g,k,d,n,j,_e,x,U,l,te,ie,c,p,v,be,fe]}class Tt extends ye{constructor(e){super(),De(this,e,zt,Et,st,{items:0,target:15,open:16,close:1,prev:2,next:3,setPosition:17},null,[-1,-1])}get items(){return this.$$.ctx[0]}set items(e){this.$$set({items:e}),Ue()}get target(){return this.$$.ctx[15]}set target(e){this.$$set({target:e}),Ue()}get open(){return this.$$.ctx[16]}get close(){return this.$$.ctx[1]}get prev(){return this.$$.ctx[2]}get next(){return this.$$.ctx[3]}get setPosition(){return this.$$.ctx[17]}}function At(s){return new Tt({...s,props:s})}export{At as B};
